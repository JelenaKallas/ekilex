<!DOCTYPE html>
<html lang="et" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common :: common_header(~{::title},~{::links})">
<title th:text="#{dictionaries.title}">Sõnakogud</title>
<th:block th:fragment="links">
  <script type="text/javascript" th:src="@{/view/js/ekilex-dataset.js}"></script>
</th:block>

</head>
<body class="body-with-navbar">

  <th:block th:replace="common :: nav_bar"></th:block>

  <div class="container-fluid">
    <div class="row">
      <button class="btn btn-primary position-right"
              title="Lisa uus sõnakogu"
              data-toggle="modal"
              data-target="#addDatasetDlg" th:text="#{dictionaries.add}">
      </button>
    </div>

    <div class="row no-gutters mt-2">
      <div class="col-10 pr-2 pb-2" style="height: calc(100vh - 14rem); overflow-y: auto;">
        <div class="card shadow">
          <div class="card-body p-2">
            <div id="results" class="w-100">
              <div th:each="dataset, datasetIter : ${datasets}" th:class="${datasetIter.last} ? '' : 'border-bottom'">
                <div>
                  <button type="button" class="btn btn-link pt-0" data-toggle="modal" th:data-target="${'#editDatasetDlg_' + dataset.code}">
                    <span th:text="${dataset.name}" class="ttl">EuropeAid</span>
                  </button>
                  <button type="button" class="btn btn-sm btn-primary"
                          title="Muuda"
                          data-toggle="modal"
                          th:data-target="${'#editDatasetDlg_' + dataset.code}">Muuda
                  </button>
                  <button class="btn btn-sm btn-warning delete-dataset-confirm" type="button"
                          th:data-code="${dataset.code}"
                          data-toggle="datasetDeleteConfirm">Kustuta</button>

                  <span class="float-right" style="padding: 15px">
                    <!--<span th:id="${'meaning_select_point_' + termMeaning.meaningId}" class="fa fa-play" style="display: none"></span>-->
                    <!--<span th:id="${'meaning_select_wait_' + termMeaning.meaningId}" class="fa fa-refresh fa-spin" style="display: none"></span>-->
                  </span>
                  <div style="position:relative; top: -10px; padding-left: 10px">
                    <small>
                      <span th:text="${#strings.abbreviate(dataset.description, 500)}"></span>
                    </small>
                  </div>
                </div>
                <div th:replace="datasetdialog :: edit_dataset_dlg(${dataset})"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div th:replace="datasetdialog :: add_dataset_dlg"></div>
  </div>
  <script th:inline="javascript">
	  initialise();
  </script>
</body>